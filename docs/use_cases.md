# Модель прецедентів

## Загальна схема

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

```plantuml
@startuml

    actor "Гість" as Guest
    actor "Користувач" as User
    actor "Адміністратор" as Admin

    usecase "<b>Guest.Search<b> \n Пошук даних гостем" as GS
    usecase "<b>Guest.SignUp<b> \n Реєстрація в системі" as GSU
    usecase "<b>Guest.SignIn<b> \n Вхід у систему" as GSI

    usecase "<b>User.Logout<b> \n Вихід користувача із системи" as ULO
    usecase "<b>User.Search<b> \n Пошук даних користувачем" as US
    usecase "<b>User.Download<b> \n Завантаження даних з сервера" as UD
    usecase "<b>User.Upload<b> \n Завантаження даних користувачем" as UUP

    usecase "<b>Admin.Logout<b> \n Вихід адміністратора із системи" as ALI
    usecase "<b>Admin.ChangeUserPermissions<b> \n Зміна прав користувача \n адміністратором" as ACUP
    usecase "<b>Admin.BanUser<b> \n Заблокувати користувача" as ABU
    usecase "<b>Admin.DeleteData<b> \n Видалення даних із системи" as ADD
    
    Guest -u-> GS
    Guest -u-> GSU
    Guest -u-> GSI

    User -u-> ULO
    User -u-> US
    User -r-> UUP
    User -d-> UD

    Admin -l-> ALI 
    Admin -r-> ACUP 
    Admin -d-> ABU
    Admin -u-> ADD

    Admin -u-|> User
    User -u-|> Guest

@enduml
```

</center>

## Гість

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>
 
```plantuml
@startuml

    actor "Гість" as Guest
    
    usecase "<b>Guest.Search<b> \n Пошук даних гостем" as GS
    usecase "<b>Guest.SignUp<b> \n Реєстрація в системі" as GSU
    usecase "<b>Guest.SignIn<b> \n Вхід у систему" as GSI
    
    Guest -u-> GS
    Guest -u-> GSU
    Guest -u-> GSI   

@enduml
```

</center>

## Користувач

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>
  
```plantuml
@startuml

    actor "Користувач" as User
    
    usecase "<b>User.Logout<b> \n Вихід користувача із системи" as ULO
    usecase "<b>User.Search<b> \n Пошук даних користувачем" as US
    usecase "<b>User.Download<b> \n Завантаження даних з сервера" as UD
    usecase "<b>User.Upload<b> \n Завантаження даних користувачем" as UUP
    usecase "<b>User.EditData<b> \n Редагування даних" as UED
    usecase "<b>User.VisualizeData<b> \n Візуалізація даних" as UVD
    usecase "<b>User.SelectExtension<b> \n Обрання формату даних \n для завантаження" as USE

    User -u-> ULO
    User -d-> US
    User -r-> UUP
    User -l-> UD

    UED .d.> UUP:extends
    UVD .u.> UUP:extends
    UD .d.> USE:includes
    
@enduml

```

</center>

## Адміністратор

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

```plantuml
@startuml
    
    actor "Адміністратор" as Admin

    usecase "<b>Admin.Logout<b> \n Вихід адміністратора із системи" as ALI
    usecase "<b>Admin.ChangeUserPermissions<b> \n Зміна прав користувача \n адміністратором" as ACUP
    usecase "<b>Admin.BanUser<b> \n Заблокувати користувача" as ABU
    usecase "<b>Admin.DeleteData<b> \n Видалення даних із системи" as ADD
    usecase "<b>Admin.BanUserUpload<b> \n Заборона на завантаження даних \n користувачу" as BUU
    usecase "<b>Admin.SetBanTimer<b> \n Налаштування таймера на заборону" as ASBT

    Admin -l-> ALI 
    Admin -r-> ACUP 
    Admin -d-> ABU
    Admin -u-> ADD

    BUU .u.> ACUP:extends
    ABU .d.> ASBT:includes
    BUU .d.> ASBT:includes
    
@enduml
```

</center>
  
# Діаграми діяльності

| **ID:** | <span id="SignIn"> SignIn </span>|
|-|-|
| **НАЗВА:** | Ввійти в систему |
| **УЧАСНИКИ:** | Гість, Система |
| **ПЕРЕДУМОВИ:** | Гість має обліковий запис у системі |
| **РЕЗУЛЬТАТ:** | Виконано вхід в обліковий запис користувача |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Введена електронна пошта некоректна - IncorrectEmail <br/> Введений пароль некоректний - IncorrectPassword |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Гість натискає кнопку "Увійти" на головній сторінці. <br/> 2. Гість вводить електронну пошту і пароль у форму входу. <br/> 3. Гість натискає кнопку "Підтвердити вхід". <br/> 4. Система перевіряє облікові дані. <br/> 5. Система повідомляє, що вхід успішно виконано. |


```plantuml
@startuml
|Гість|
start;

:Натискає кнопку "Увійти" на головній сторінці;
:Вводить електронну пошту і пароль у форму входу;
:Натискає кнопку "Підтвердити вхід";

|Система|
:Перевіряє облікові дані;

note right #cc6442
<b> Можливі помилки:
 IncorrectEmail
 IncorrectPassword
end note

:Повідомляє, що вхід успішно виконано;

stop;
@enduml
```

</br>

| **ID:** | <span id="SignUp"> SignUp </span>|
|-|-|
| **НАЗВА:** | Зареєструватися в системі |
| **УЧАСНИКИ:** | Гість, Система |
| **ПЕРЕДУМОВИ:** | Гість не має облікового запису в системі |
| **РЕЗУЛЬТАТ:** | Створено обліковий запис користувача |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Пароль не відповідає умовам - InvalidPassword <br/> Вказана електронна пошта не існує - InvalidEmail |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Гість натискає кнопку "Зареєструватися" на головній сторінці. <br/> 2. Гість вводить електронну пошту і пароль у форму реєстрації. <br/> 3. Гість натискає кнопку "Підтвердити реєстрацію". <br/> 4. Система перевіряє облікові дані. <br/> 5. Система надсилає листа з підтвердженням реєстрації на електронну пошту користувача. <br/> 6. Користовач підтверджує реєстрацію. <br/> 7. Система створює обліковий запис користувача. <br/> 8. Система повідомляє, що обліковий запис успішно створено. |

```plantuml
@startuml
|Гість|
start;

:Натискає кнопку "Зареєструватися" на головній сторінці;
:Вводить електронну пошту і пароль у форму реєстрації;
:Натискає кнопку "Підтвердити реєстрацію";

|Система|
:Перевіряє облікові дані;

note right #cc6442
<b> Можливі помилки:
 InvalidPassword
 InvalidEmail
end note

:Надсилає листа з підтвердженням реєстрації на електронну пошту;
|Гість|
:Підтверджує реєстрацію;

|Система|
:Створює обліковий запис користувача;
:Повідомляє проуспішне створення облікового запису;

stop;
@enduml
```

</br>

| **ID:** | <span id="Logout"> Logout </span>|
|-|-|
| **НАЗВА:** | Вийти з системи |
| **УЧАСНИКИ:** | Користувач, Система |
| **ПЕРЕДУМОВИ:** | Користувач авторизований |
| **РЕЗУЛЬТАТ:** | Виконано вихід з облікового запису користувача |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Відсутні |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач натискає кнопку "Вийти" на головній сторінці. <br/> 2. Користувач натискає кнопку "Підтвердити". <br/> 3. Система завершує сеанс користувача. <br/> 4. Сиситема повідомляє про успішний вихід з облікового запису. |

```plantuml
@startuml
|Користувач|
start;

:Натискає кнопку "Вийти" на головній сторінці;
:Натискає кнопку "Підтвердити";

|Система|
:Завершує сеанс користувача;
:Повідомляє про успішний вихід з облікового запису;

stop;
@enduml
```

</br>

| **ID:** | <span id="Search"> Search </span>|
|-|-|
| **НАЗВА:** | Знайти дані за запитом |
| **УЧАСНИКИ:** | Користувач, Система |
| **ПЕРЕДУМОВИ:** | Наявність бази даних для пошуку |
| **РЕЗУЛЬТАТ:** | Шукані дані відображено |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Дані не знайдено - DataNotFound |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач натискає кнопку "Пошук" на головній сторінці. <br/> 2. Користувач вводить пошуковий запит в пошуковий рядок. <br/> 3. Користувач натискає кнопку "Знайти". <br/> 4. Система здіснює пошук за запитом. <br/> 5. Система відображає шукані дані користувачу. |

```plantuml
@startuml
|Користувач|
start;

:Натискає кнопку "Пошук" на головній сторінці;
:Вводить пошуковий запит у пошуковий рядок;
:Натискає кнопку "Знайти";

|Система|
:Здійснює пошук за запитом;
note right #cc6442
<b> Можлива помилка:
 DataNotFound
end note

:Відображає шукані дані користувачу;

stop;
@enduml
```

</br>

| **ID:** | <span id="Download"> Download </span>|
|-|-|
| **НАЗВА:** | Завантажити дані з системи |
| **УЧАСНИКИ:** | Користувач, Система |
| **ПЕРЕДУМОВИ:** | Користувач авторизований у системі |
| **РЕЗУЛЬТАТ:** | Дані завантажено на пристрій користувача |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Помилка завантаження - DownloadError <br/> Даних не існує - DataDoesNotExist |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач натискає кнопку "Завантажити" на сторінці з даними. <br/> 2. Користувач обирає формат файлу даних. <br/> 3. Користувач натискає кнопку "Підтвердити". <br/> 4. Система створює файл з даними. <br/> 5. Система завантажує дані на пристрій користувача. <br/> 6. Система повідомляє, що дані успішно завантажено. |

```plantuml
@startuml
|Користувач|
start;

:Натискає кнопку "Завантажити" на сторінці з даними;
:Обирає формат файлу даних;
:Натискає кнопку "Підтвердити";

|Система|
:Створює файл з даними;
note right #cc6442
<b> Можливі помилки:
 DownloadError
 DataDoesNotExist
end note
:Завантажує дані на пристрій користувача;
:Повідомляє, що дані успішно завантажено;

stop;
@enduml
```

</br>

| **ID:** | <span id="Upload"> Upload </span>|
|-|-|
| **НАЗВА:** | Завантажити дані в систему |
| **УЧАСНИКИ:** | Користувач, Система |
| **ПЕРЕДУМОВИ:** | Користувач авторизований у системі |
| **РЕЗУЛЬТАТ:** | Дані завантажено в систему |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Файл не підтримується або пошкоджений - InvalidData |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач натискає кнопку "Додати дані" на головній сторінці. <br/> 2. Користувач обирає файл з даними на пристрої. <br/> 3. Користувач натискає кнопку "Додати". <br/> 4. Система обробляє дані. <br/> 5. Система завантажує дані в базу. <br/> 6. Система повідомляє, що дані успішно завантажено. |

```plantuml
@startuml
    |Користувач|
        start
    
        : Натискає кнопку "Додати дані" на головній сторінці;
        : Обирає файл з даними на пристрої;
        : Натискає кнопку "Додати";
    
    |Система|
        : Обробляє дані;
        note right #cc6442
            <b> Можливі помилки:
                InvalidData
        end note
        : Завантажує дані в базу;
        : Повідомляє, що дані успішно завантажено;
    |Користувач|
        stop;
@enduml
```

</br>

| **ID:** | <span id="EditData"> EditData </span>|
|-|-|
| **НАЗВА:** | Змінити дані в системі |
| **УЧАСНИКИ:** | Користувач, Система |
| **ПЕРЕДУМОВИ:** | Користувач авторизований у системі <br/> Користувач має право на редагування даних <br/> Відкрито сторінку з даними |
| **РЕЗУЛЬТАТ:** | Дані змінено |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Неправильний формат змінених даних - InvalidData |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач натискає кнопку "Змінити" на сторінці з даними. <br/> 2. Користувач вносить необхідні зміни. <br/> 3. Користувач натискає кнопку "Зберегти". <br/> 4. Система обробляє дані. <br/> 5. Система зберігає змінені дані. <br/> 6. Система повідомляє, що дані успішно змінено. |

```plantuml
@startuml
    |Користувач|
        start
    
        : Натискає кнопку "Змінити" на сторінці з даними;
        : Вносить необхідні зміни;
        : Натискає кнопку "Зберегти";
    
    |Система|
        : Обробляє дані;
        note right #cc6442
            <b> Можливі помилки:
                InvalidData
        end note
        : Зберігає змінені дані;
        : Повідомляє, що дані успішно змінено;
    |Користувач|
        stop;
@enduml
```

</br>

| **ID:** | <span id="VisualizeData"> VisualizeData </span>|
|-|-|
| **НАЗВА:** | Відобразити дані |
| **УЧАСНИКИ:** | Користувач, Система |
| **ПЕРЕДУМОВИ:** | Користувач авторизований у системі <br/> Відкрито сторінку з даними |
| **РЕЗУЛЬТАТ:** | Дані відображено |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Обраний формат візуалізації недоступний - InvalidVisualizationType <br/> Дані неможливо візуалізувати - InvalidVisualizationData |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач натискає кнопку "Відобразити" на сторінці з даними. <br/> 2. Користувач обирає формат візуалізації даних. <br/> 3. Користувач натискає кнопку "Підтвердити". <br/> 4. Система створює візуалізацію у вибраному форматі. <br/> 5. Система відображає дані користувачу. |

```plantuml
@startuml
    |Користувач|
        start
    
        : Натискає кнопку "Відобразити" на сторінці з даними;
        : Обирає формат візуалізації даних;
        : Натискає кнопку "Підтвердити";
    
    |Система|
        : Створює візуалізацію у вибраному форматі;
        note right #cc6442
            <b> Можливі помилки:
                InvalidVisualizationType
                InvalidVisualizationData
        end note
        : Відображає дані користувачу;
    |Користувач|
        stop;
@enduml
```
</br>

| **ID:** | <span id="DeleteData"> DeleteData </span>|
|-|-|
| **НАЗВА:** | Видалити дані з системи |
| **УЧАСНИКИ:** | Адміністратор, Система |
| **ПЕРЕДУМОВИ:** | Адміністратор авторизований у системі |
| **РЕЗУЛЬТАТ:** | Дані видалено |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Даних не існує - DataDoesNotExist |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Адміністратор натискає кнопку "Видалити" на сторінці з даними. <br/> 2. Адміністратор натискає кнопку "Підтвердити". <br/> 3. Система видаляє дані з бази. <br/> 4. Система повідомляє, що дані успішно видалено. |

```plantuml
@startuml
    |Адміністратор|
        start
        : Натискає кнопку "Видалити" на сторінці з даними;
        : Натискає кнопку "Підтвердити";
    |Система|
        : Видаляє дані з бази;
        note right #cc6442
            <b> Можливі помилки:
                DataDoesNotExist
        end note
        : Повідомляє, що дані успішно видалено;
    |Адміністратор|
        stop;
@enduml
```
</br>

| **ID:** | <span id="BanUser"> BanUser </span>|
|-|-|
| **НАЗВА:** | 	Заблокувати користувача |
| **УЧАСНИКИ:** | Адміністратор, Система |
| **ПЕРЕДУМОВИ:** | Адміністратор авторизований |
| **РЕЗУЛЬТАТ:** | Обліковий запис користувача заблоковано |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | Користувача не існує - UserNotFound <br/> Користувач вже заблокований - UserAlreadyBanned |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Адміністратор натискає кнопку "Управління користувачами" на головній сторінці. <br/> 2. Адміністратор вводить ім'я користувача в пошуковий рядок. <br/> 3. Адміністратор натискає кнопку "Знайти". <br/>  4. Система здіснює пошук за запитом. <br/> 5. Система відображає шуканого користувача. <br/> 6. Адміністратор натискає кнопку "Заблокувати". <br/> 7. Адміністратор виставляє таймер блокування. <br/> 8. Адміністратор натискає кнопку "Підтвердити". <br/> 9. Система блокує користувача на вказаний період. <br/> 10. Система повідомляє, що користувача успішно заблоковано. |

```plantuml
@startuml 
    |Адміністратор|
        start
    
        : Натискає кнопку "Управління користувачами" на головній сторінці;
        : Вводить ім'я користувача в пошуковий рядок;
        : Натискає кнопку "Знайти";
    
    |Система|
        : Здіснює пошук за запитом;
        : Відображає шуканого користувача;
        note right #cc6442
            <b> Можливі помилки:
                UserNotFound
                UserAlreadyBanned
        end note
        
    |Адміністратор|
        : Натискає кнопку "Заблокувати";
        : Виставляє таймер блокування;
        : Натискає кнопку "Підтвердити";
        
    |Система|
        : Блокує користувача на вказаний період;
        : Повідомляє, що користувача успішно заблоковано;
    |Адміністратор|
        stop;
@enduml
```